{"version":3,"file":"js/179.cff6b08c.js","mappings":"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","sources":["webpack://my_cloud_javaweb_project/./src/class/config.js","webpack://my_cloud_javaweb_project/./src/views/shop/ShopCom.vue","webpack://my_cloud_javaweb_project/./src/views/shop/ShopCom.vue?d459"],"sourcesContent":["const config = {\n    baseUrl: 'http://localhost:8081',\n    api: {\n        captcha: '/user/captcha',\n        login: '/user/login',\n        register: '/user/register',\n        logout: '/user/logout',\n        getUserInfo: '/user/getinfo',\n        authToken:'/user/token-auth',\n        ip: '/system/ip',\n        ShopInfo: \"/element/info\",\n        code: '/user/code',\n        selectUser:\"/user/select-info\",\n        deleteUser:\"/user/delete\",\n        updateUser:\"/user/change\",\n        deleteShop:\"/element/delete\",\n        uploadImg:\"/system/img/base64\",\n        updateShop:\"/element/change\",\n        insertShop:\"/element/insert\",\n        getOrders:\"/pay/getall\",\n        payInsert:\"/pay/top-up\",\n        payMyinfo:\"/pay/get\",\n        payEx:\"/pay/exchange\",\n        payForOrder:\"/pay/pay-order\"\n    },\n    apiUrl: '/api'\n}\nexport default config","<template>\n  <div class=\"store-container\">\n    <el-card class=\"box-card\">\n      <div class=\"card-header\">\n        <span >EquityQ's Shop</span>\n      </div>\n      <el-row class=\"el_row_class\" :gutter=\"20\">\n        <el-col :span=\"8\" v-for=\"(item, index) in goods\" style=\"padding-top: 10px;padding-bottom: 10px\" :key=\"index\">\n          <el-card class=\"product-card\">\n            <img :src=\"item.image\" alt=\"商品图片\" class=\"product-image\" />\n            <div class=\"product-info\">\n              <p><strong>名称:</strong> {{ item.name }}</p>\n              <p><strong>价格:</strong> {{ item.price }} 元</p>\n              <p><strong>库存:</strong> {{ item.value }} 件</p>\n              <p><strong>描述:</strong> {{ item.description }}</p>\n              <el-button type=\"primary\" @click=\"addToCart(item.name)\">加入购物车</el-button>\n            </div>\n          </el-card>\n        </el-col>\n      </el-row>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport config from \"@/class/config\";\nexport default {\n  data() {\n    return {\n      goods: []\n    };\n  },\n  mounted() {\n    // 从后端获取商品列表数据\n    this.$axios.get(config.baseUrl+config.apiUrl+config.api.ShopInfo).then(response => {\n      this.goods = response.data.elements;\n    });\n  },\n  methods: {\n    addToCart(name) {\n      var token = this.$cookies.get(\"token\");\n      if(token==null&&token==\"\"){\n        this.$message.error(\"未检测到登录态,无法使用购物车功能。\");\n        this.$cookies.remove(\"token\");\n        return;\n      }\n    //   存入cookie\n      var value = this.$cookies.get(name);\n      // 检索当前库存\n      var good_value = 0;\n      for (var i=0;i<this.goods.length;i++){\n        if(this.goods[i].name===name){\n          good_value = this.goods[i].value;\n          break;\n        }\n      }\n      if(good_value<=0){\n        this.$message.error(\"商品库存不足。\");\n        return;\n      }\n      if(value==null||value===\"\"){\n        this.$message.success(\"新增商品已加入购物车。\");\n        this.$cookies.set(name,1,{path:\"/\",expires:30});\n      }else{\n        if(parseInt(value)>=good_value){\n          this.$message.error(\"商品库存不足,无法加入购物车。\");\n          return;\n        }\n        this.$message.success(\"商品数量已增加进购物车。\");\n        this.$cookies.set(name,parseInt(value)+1,{path:\"/\",expires:30});\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.store-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n}\n\n.box-card {\n  width: 100%;\n  margin-bottom: 20px;\n}\n\n.card-header {\n  font-size: 18px;\n  font-weight: bold;\n  margin-bottom: 10px;\n}\n\n.product-card {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n\n.product-image {\n  width: 100%;\n  max-height: 300px;\n  object-fit: cover;\n  margin-bottom: 10px;\n}\n\n.product-info {\n  padding: 10px;\n  font-size: 14px;\n  color: #606266;\n}\n</style>\n","import { render } from \"./ShopCom.vue?vue&type=template&id=22e4e727&scoped=true\"\nimport script from \"./ShopCom.vue?vue&type=script&lang=js\"\nexport * from \"./ShopCom.vue?vue&type=script&lang=js\"\n\nimport \"./ShopCom.vue?vue&type=style&index=0&id=22e4e727&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22e4e727\"]])\n\nexport default __exports__"],"names":["config","baseUrl","api","captcha","login","register","logout","getUserInfo","authToken","ip","ShopInfo","code","selectUser","deleteUser","updateUser","deleteShop","uploadImg","updateShop","insertShop","getOrders","payInsert","payMyinfo","payEx","payForOrder","apiUrl","class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","default","_withCtx","_createElementVNode","_component_el_row","gutter","_Fragment","_renderList","$data","goods","item","index","_createBlock","_component_el_col","span","style","key","src","image","alt","_hoisted_2","_hoisted_3","_createTextVNode","_toDisplayString","name","price","value","description","_component_el_button","type","onClick","$event","$options","addToCart","_cache","_","data","mounted","this","$axios","get","then","response","elements","methods","token","$cookies","$message","error","remove","good_value","i","length","success","set","path","expires","parseInt","__exports__","render"],"sourceRoot":""}