{"version":3,"file":"js/473.6e590639.js","mappings":"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","sources":["webpack://my_cloud_javaweb_project/./src/class/config.js","webpack://my_cloud_javaweb_project/./src/views/shop/InsertShop.vue","webpack://my_cloud_javaweb_project/./src/views/shop/InsertShop.vue?77df"],"sourcesContent":["const config = {\r\n    baseUrl: 'http://localhost:8081',\r\n    api: {\r\n        captcha: '/captcha',\r\n        login: '/user/login',\r\n        register: '/user/register',\r\n        logout: '/user/logout',\r\n        getUserInfo: '/user/getinfo',\r\n        authToken:'/user/token-auth',\r\n        ip: '/ip',\r\n        ShopInfo: \"/element/info\",\r\n        code: '/user/code',\r\n        selectUser:\"/user/select-info\",\r\n        deleteUser:\"/user/delete\",\r\n        updateUser:\"/user/change\",\r\n        deleteShop:\"/element/delete\",\r\n        uploadImg:\"/img/base64\",\r\n        updateShop:\"/element/change\",\r\n        insertShop:\"/element/insert\",\r\n        getOrders:\"/order/getall\",\r\n        payInsert:\"/pay/top-up\",\r\n        payMyinfo:\"/pay/get\",\r\n        payEx:\"/pay/exchange\",\r\n        payForOrder:\"/pay/pay-order\"\r\n    },\r\n    apiUrl: '/api'\r\n}\r\nexport default config","<script>\r\nimport config from \"@/class/config\"\r\nexport default{\r\n  name:\"ShopInsert\",\r\n  computed: {\r\n    config() {\r\n      return config\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      product:{\r\n        name: \"\",\r\n        price: \"\",\r\n        value: \"\",\r\n        description: \"\",\r\n        image: \"default.jpg\"\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    handleSubmit(){\r\n      // 检查price参数是否合法\r\n      if(!/^[0-9]+(.[0-9]{1,2})?$/.test(this.product.price)){\r\n        this.$message.error(\"商品价格参数不合法\");\r\n        return;\r\n      }\r\n      // 检查所有参数不为“”\r\n      if(this.product.name===\"\"||this.product.price===\"\"||this.product.value===\"\"||this.product.description===\"\"){\r\n        this.$message.error(\"请填写所有必填项\");\r\n        return;\r\n      }\r\n      this.$axios.post(config.baseUrl+config.apiUrl+config.api.insertShop,{\r\n        name:this.product.name,\r\n        price:this.product.price,\r\n        value:this.product.value,\r\n        description:this.product.description,\r\n        image:this.product.image,\r\n      },{\r\n        headers:{\r\n          'token':this.$cookies.get(\"token\")\r\n        }\r\n      }).then(res=>{\r\n        if(res.data.Code===200){\r\n          this.$message.success(res.data.Response);\r\n          this.$router.push(\"/dashboard\");\r\n       }else{\r\n          this.$message.error(res.data.Response);\r\n        }\r\n      })\r\n    },\r\n    beforeAvatarUpload(file){\r\n      const isJPG = file.type === 'image/jpeg';\r\n      const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n      if (!isJPG) {\r\n        this.$message.error('上传头像图片只能是 JPG 格式!');\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 2MB!');\r\n      }\r\n      return isJPG && isLt2M;\r\n    },\r\n    handleAvatarSuccess(res) {\r\n      if(res.Code === 200){\r\n        this.product.image = res.base64;\r\n        this.$message.success(res.Response);\r\n      }else{\r\n        this.$message.error(res.Response);\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <h2 style=\"text-align: center\">当前正在新增商品</h2>\r\n  <el-form label-width=\"100px\" :model=\"product\">\r\n    <el-form-item label=\"商品图片\">\r\n      <el-upload\r\n        class=\"avatar-uploader\"\r\n        :action=\"config.baseUrl+config.apiUrl+config.api.uploadImg\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :before-upload=\"beforeAvatarUpload\"\r\n      >\r\n        <img :src=\"product.image\" class=\"avatar\">\r\n      </el-upload>\r\n    </el-form-item>\r\n    <el-form-item label=\"商品名称\">\r\n      <el-input v-model=\"product.name\" placeholder=\"请输入商品名称\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"商品价格\">\r\n      <el-input  v-model.trim=\"product.price\" placeholder=\"请输入商品价格\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"商品库存\">\r\n      <el-input v-model.number=\"product.value\" placeholder=\"请输入商品库存\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"商品描述\">\r\n      <el-input v-model=\"product.description\" type=\"textarea\" placeholder=\"请输入商品描述\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-button type=\"primary\" @click=\"handleSubmit\">提交</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<style scoped>\r\n/* 可以在这里添加样式 */\r\n.el-form {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n}\r\n.avatar{\r\n  max-width: 500px;\r\n}\r\n</style>\r\n","import { render } from \"./InsertShop.vue?vue&type=template&id=110d8c7c&scoped=true\"\nimport script from \"./InsertShop.vue?vue&type=script&lang=js\"\nexport * from \"./InsertShop.vue?vue&type=script&lang=js\"\n\nimport \"./InsertShop.vue?vue&type=style&index=0&id=110d8c7c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-110d8c7c\"]])\n\nexport default __exports__"],"names":["config","baseUrl","api","captcha","login","register","logout","getUserInfo","authToken","ip","ShopInfo","code","selectUser","deleteUser","updateUser","deleteShop","uploadImg","updateShop","insertShop","getOrders","payInsert","payMyinfo","payEx","payForOrder","apiUrl","_createElementBlock","_Fragment","_createElementVNode","style","_createVNode","_component_el_form","model","$data","product","default","_withCtx","_component_el_form_item","label","_component_el_upload","class","action","$options","handleAvatarSuccess","beforeAvatarUpload","src","image","_hoisted_1","_","_component_el_input","modelValue","name","_cache","$event","placeholder","price","modelModifiers","trim","value","number","description","type","_component_el_button","onClick","handleSubmit","_createTextVNode","computed","data","methods","test","this","$axios","post","headers","$cookies","get","then","res","Code","$message","success","Response","$router","push","error","file","isJPG","isLt2M","size","base64","__exports__","render"],"sourceRoot":""}