{"version":3,"file":"js/179.1a812b33.js","mappings":"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","sources":["webpack://my_cloud_javaweb_project/./src/class/config.js","webpack://my_cloud_javaweb_project/./src/views/shop/ShopCom.vue","webpack://my_cloud_javaweb_project/./src/views/shop/ShopCom.vue?d459"],"sourcesContent":["const config = {\r\n    baseUrl: 'http://localhost:8081',\r\n    api: {\r\n        captcha: '/captcha',\r\n        login: '/user/login',\r\n        register: '/user/register',\r\n        logout: '/user/logout',\r\n        getUserInfo: '/user/getinfo',\r\n        authToken:'/user/token-auth',\r\n        ip: '/ip',\r\n        ShopInfo: \"/element/info\",\r\n        code: '/user/code',\r\n        selectUser:\"/user/select-info\",\r\n        deleteUser:\"/user/delete\",\r\n        updateUser:\"/user/change\",\r\n        deleteShop:\"/element/delete\",\r\n        uploadImg:\"/img/base64\",\r\n        updateShop:\"/element/change\",\r\n        insertShop:\"/element/insert\",\r\n        getOrders:\"/order/getall\",\r\n        payInsert:\"/pay/top-up\",\r\n        payMyinfo:\"/pay/get\",\r\n        payEx:\"/pay/exchange\",\r\n        payForOrder:\"/pay/pay-order\"\r\n    },\r\n    apiUrl: '/api'\r\n}\r\nexport default config","<template>\r\n  <div class=\"store-container\">\r\n    <el-card class=\"box-card\">\r\n      <div class=\"card-header\">\r\n        <span >EquityQ's Shop</span>\r\n      </div>\r\n      <el-row class=\"el_row_class\" :gutter=\"20\">\r\n        <el-col :span=\"8\" v-for=\"(item, index) in goods\" style=\"padding-top: 10px;padding-bottom: 10px\" :key=\"index\">\r\n          <el-card class=\"product-card\">\r\n            <img :src=\"item.image\" alt=\"商品图片\" class=\"product-image\" />\r\n            <div class=\"product-info\">\r\n              <p><strong>名称:</strong> {{ item.name }}</p>\r\n              <p><strong>价格:</strong> {{ item.price }} 元</p>\r\n              <p><strong>库存:</strong> {{ item.value }} 件</p>\r\n              <p><strong>描述:</strong> {{ item.description }}</p>\r\n              <el-button type=\"primary\" @click=\"addToCart(item.name)\">加入购物车</el-button>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport config from \"@/class/config\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      goods: []\r\n    };\r\n  },\r\n  mounted() {\r\n    // 从后端获取商品列表数据\r\n    this.$axios.get(config.baseUrl+config.apiUrl+config.api.ShopInfo).then(response => {\r\n      this.goods = response.data.elements;\r\n    });\r\n  },\r\n  methods: {\r\n    addToCart(name) {\r\n      var token = this.$cookies.get(\"token\");\r\n      if(token==null&&token==\"\"){\r\n        this.$message.error(\"未检测到登录态,无法使用购物车功能。\");\r\n        this.$cookies.remove(\"token\");\r\n        return;\r\n      }\r\n    //   存入cookie\r\n      var value = this.$cookies.get(name);\r\n      // 检索当前库存\r\n      var good_value = 0;\r\n      for (var i=0;i<this.goods.length;i++){\r\n        if(this.goods[i].name===name){\r\n          good_value = this.goods[i].value;\r\n          break;\r\n        }\r\n      }\r\n      if(good_value<=0){\r\n        this.$message.error(\"商品库存不足。\");\r\n        return;\r\n      }\r\n      if(value==null||value===\"\"){\r\n        this.$message.success(\"新增商品已加入购物车。\");\r\n        this.$cookies.set(name,1,{path:\"/\",expires:30});\r\n      }else{\r\n        if(parseInt(value)>=good_value){\r\n          this.$message.error(\"商品库存不足,无法加入购物车。\");\r\n          return;\r\n        }\r\n        this.$message.success(\"商品数量已增加进购物车。\");\r\n        this.$cookies.set(name,parseInt(value)+1,{path:\"/\",expires:30});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.store-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.box-card {\r\n  width: 100%;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.card-header {\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.product-card {\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n\r\n.product-image {\r\n  width: 100%;\r\n  max-height: 300px;\r\n  object-fit: cover;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.product-info {\r\n  padding: 10px;\r\n  font-size: 14px;\r\n  color: #606266;\r\n}\r\n</style>\r\n","import { render } from \"./ShopCom.vue?vue&type=template&id=22e4e727&scoped=true\"\nimport script from \"./ShopCom.vue?vue&type=script&lang=js\"\nexport * from \"./ShopCom.vue?vue&type=script&lang=js\"\n\nimport \"./ShopCom.vue?vue&type=style&index=0&id=22e4e727&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-22e4e727\"]])\n\nexport default __exports__"],"names":["config","baseUrl","api","captcha","login","register","logout","getUserInfo","authToken","ip","ShopInfo","code","selectUser","deleteUser","updateUser","deleteShop","uploadImg","updateShop","insertShop","getOrders","payInsert","payMyinfo","payEx","payForOrder","apiUrl","class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","default","_withCtx","_createElementVNode","_component_el_row","gutter","_Fragment","_renderList","$data","goods","item","index","_createBlock","_component_el_col","span","style","key","src","image","alt","_hoisted_2","_hoisted_3","_createTextVNode","_toDisplayString","name","price","value","description","_component_el_button","type","onClick","$event","$options","addToCart","_cache","_","data","mounted","this","$axios","get","then","response","elements","methods","token","$cookies","$message","error","remove","good_value","i","length","success","set","path","expires","parseInt","__exports__","render"],"sourceRoot":""}