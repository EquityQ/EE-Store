{"version":3,"file":"js/899.46de94e3.js","mappings":"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","sources":["webpack://my_cloud_javaweb_project/./src/views/user/UserRegister.vue","webpack://my_cloud_javaweb_project/./src/views/user/UserRegister.vue?788c"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <el-card class=\"box-card\">\r\n      <template #header>\r\n        <div class=\"card-header\">\r\n          <span>用户注册</span>\r\n        </div>\r\n      </template>\r\n      <el-form :model=\"form\" label-width=\"80px\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"form.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\">\r\n          <el-input type=\"password\" v-model=\"form.password\" show-password></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"验证码\">\r\n          <el-row :gutter=\"20\">\r\n            <el-col :span=\"14\">\r\n              <el-input v-model=\"form.captcha\"></el-input>\r\n            </el-col>\r\n            <el-col :span=\"10\">\r\n              <el-button type=\"primary\" @click=\"sendCaptcha\">获取验证码</el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form-item>\r\n        <el-form-item label=\"Captcha：\" v-if=\"showCaptcha\">\r\n          <img :src=\"captchaImg\" alt=\"captcha\">\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button @click=\"toLogin\">登录</el-button>\r\n          <el-button type=\"primary\" @click=\"onSubmit\">注册</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport config from \"@/class/config\"\r\nimport {MD5} from \"crypto-js\"\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        username: '',\r\n        password: '',\r\n        captcha: ''\r\n      },\r\n      captchaImg:\"\",\r\n      showCaptcha:false\r\n    };\r\n  },\r\n  methods: {\r\n    salt(){\r\n      return {\r\n        username:this.form.username,\r\n        captcha:this.form.captcha,\r\n        password:MD5(this.form.password).toString()\r\n      }\r\n    },\r\n    onSubmit() {\r\n      //   发送请求带参数给后端，后端返回数据，判断是否登录成功，成功则跳转页面，失败则提示错误信息\r\n      var datas = this.salt();\r\n      if(datas.name==\"\"|| datas.password==\"\"|| datas.captcha==\"\" || this.showCaptcha == false){\r\n        this.$message.error(\"请输入完整信息\");\r\n        return;\r\n      }\r\n      this.$axios.post(config.baseUrl+config.apiUrl+config.api.register,datas).then(res=>{\r\n        if(res.data.Code==200){\r\n          // 登录成功，将用户信息保存到本地存储\r\n          this.$cookies.set(\"token\",res.data.token,{expires:30,path:\"/\"});\r\n          this.$cookies.set(\"permission\",res.data.permission,{path:\"/\"});\r\n          this.$message.success(res.data.Reason);\r\n          this.$router.push(\"/\");\r\n        }else{\r\n          // 登录失败，提示错误信息\r\n          this.$message.error(res.data.Reason);\r\n          // 清空输入框\r\n          this.form.captcha = \"\";\r\n          this.form.password = \"\";\r\n          this.form.username = \"\";\r\n          this.sendCaptcha();\r\n        }\r\n      })\r\n    },\r\n    sendCaptcha() {\r\n      const time = new Date().getTime();\r\n      this.captchaImg = config.baseUrl+config.apiUrl+config.api.captcha+`?time=${time}`;\r\n      this.showCaptcha = true;\r\n    },\r\n    toLogin() {\r\n      this.$router.push(\"/user/login\");\r\n    }\r\n  },\r\n  mounted() {\r\n    var token = this.$cookies.get(\"token\");\r\n    if(token==null|| token==\"\"){\r\n      return;\r\n    }\r\n    this.$axios.post(config.baseUrl+config.apiUrl+config.api.authToken,{},{headers:{\r\n        'token':token\r\n      }}).then(res=>{\r\n      if(res.data.Code==200){\r\n        // 更新token有效期\r\n        this.$cookies.set(\"token\",token,{expires:30,path:\"/\"});\r\n        this.$cookies.set(\"permission\",res.data.permission,{path:\"/\"});\r\n        this.$router.push(\"/\");\r\n      }else{\r\n        // 删除token\r\n        this.$cookies.remove(\"token\");\r\n        this.$message.error(res.data.Reason);\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n}\r\n\r\n.box-card {\r\n  width: 400px;\r\n}\r\n\r\n.card-header {\r\n  text-align: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n</style>\r\n","import { render } from \"./UserRegister.vue?vue&type=template&id=f859719c&scoped=true\"\nimport script from \"./UserRegister.vue?vue&type=script&lang=js\"\nexport * from \"./UserRegister.vue?vue&type=script&lang=js\"\n\nimport \"./UserRegister.vue?vue&type=style&index=0&id=f859719c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f859719c\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","default","_component_el_form","model","$data","form","_component_el_form_item","label","_component_el_input","modelValue","username","$event","_","type","password","_component_el_row","gutter","_component_el_col","span","captcha","_component_el_button","onClick","$options","sendCaptcha","_createTextVNode","showCaptcha","_createBlock","key","src","captchaImg","alt","_hoisted_2","_createCommentVNode","toLogin","onSubmit","data","methods","salt","this","MD5","toString","datas","name","$axios","post","config","baseUrl","apiUrl","api","register","then","res","Code","$cookies","set","token","expires","path","permission","$message","success","Reason","$router","push","error","time","Date","getTime","mounted","get","authToken","headers","remove","__exports__","render"],"sourceRoot":""}