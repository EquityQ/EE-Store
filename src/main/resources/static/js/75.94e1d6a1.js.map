{"version":3,"file":"js/75.94e1d6a1.js","mappings":"kNACOA,MAAM,mB,EADb,Q,gNACEC,EAAAA,EAAAA,IAiCM,MAjCNC,EAiCM,EAhCJC,EAAAA,EAAAA,IA+BUC,EAAA,CA/BDJ,MAAM,YAAU,CACZK,QAAMC,EAAAA,EAAAA,KACf,IAEMC,EAAA,KAAAA,EAAA,KAFNC,EAAAA,EAAAA,IAEM,OAFDR,MAAM,eAAa,EACtBQ,EAAAA,EAAAA,IAAiB,YAAX,UAAI,OALpBC,SAAAH,EAAAA,EAAAA,KAQM,IAwBU,EAxBVH,EAAAA,EAAAA,IAwBUO,EAAA,CAxBAC,MAAOC,EAAAC,KAAM,cAAY,Q,CARzCJ,SAAAH,EAAAA,EAAAA,KASQ,IAEe,EAFfH,EAAAA,EAAAA,IAEeW,EAAA,CAFDC,MAAM,OAAK,CATjCN,SAAAH,EAAAA,EAAAA,KAUU,IAA6C,EAA7CH,EAAAA,EAAAA,IAA6Ca,EAAA,CAVvDC,WAU6BL,EAAAC,KAAKK,SAVlC,sBAAAX,EAAA,KAAAA,EAAA,GAAAY,GAU6BP,EAAAC,KAAKK,SAAQC,I,0BAV1CC,EAAA,KAYQjB,EAAAA,EAAAA,IAEeW,EAAA,CAFDC,MAAM,MAAI,CAZhCN,SAAAH,EAAAA,EAAAA,KAaU,IAA2E,EAA3EH,EAAAA,EAAAA,IAA2Ea,EAAA,CAAjEK,KAAK,WAbzBJ,WAa6CL,EAAAC,KAAKS,SAblD,sBAAAf,EAAA,KAAAA,EAAA,GAAAY,GAa6CP,EAAAC,KAAKS,SAAQH,GAAE,oB,0BAb5DC,EAAA,KAeQjB,EAAAA,EAAAA,IASeW,EAAA,CATDC,MAAM,OAAK,CAfjCN,SAAAH,EAAAA,EAAAA,KAgBU,IAOS,EAPTH,EAAAA,EAAAA,IAOSoB,EAAA,CAPAC,OAAQ,IAAE,CAhB7Bf,SAAAH,EAAAA,EAAAA,KAiBY,IAES,EAFTH,EAAAA,EAAAA,IAESsB,EAAA,CAFAC,KAAM,IAAE,CAjB7BjB,SAAAH,EAAAA,EAAAA,KAkBc,IAA4C,EAA5CH,EAAAA,EAAAA,IAA4Ca,EAAA,CAlB1DC,WAkBiCL,EAAAC,KAAKc,QAlBtC,sBAAApB,EAAA,KAAAA,EAAA,GAAAY,GAkBiCP,EAAAC,KAAKc,QAAOR,I,0BAlB7CC,EAAA,KAoBYjB,EAAAA,EAAAA,IAESsB,EAAA,CAFAC,KAAM,IAAE,CApB7BjB,SAAAH,EAAAA,EAAAA,KAqBc,IAAgE,EAAhEH,EAAAA,EAAAA,IAAgEyB,EAAA,CAArDP,KAAK,UAAWQ,QAAOC,EAAAC,a,CArBhDtB,SAAAH,EAAAA,EAAAA,KAqB6D,IAAKC,EAAA,KAAAA,EAAA,KArBlEyB,EAAAA,EAAAA,IAqB6D,aArB7DZ,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,OAAAA,EAAA,IAyB6CR,EAAAqB,cAAW,WAAhDC,EAAAA,EAAAA,IAEepB,EAAA,CA3BvBqB,IAAA,EAyBsBpB,MAAM,Y,CAzB5BN,SAAAH,EAAAA,EAAAA,KA0BU,IAAqC,EAArCE,EAAAA,EAAAA,IAAqC,OAA/B4B,IAAKxB,EAAAyB,WAAYC,IAAI,W,OA1BrCC,MAAAnB,EAAA,MAAAoB,EAAAA,EAAAA,IAAA,QA4BQrC,EAAAA,EAAAA,IAGeW,EAAA,MA/BvBL,SAAAH,EAAAA,EAAAA,KA6BU,IAA0D,EAA1DH,EAAAA,EAAAA,IAA0DyB,EAAA,CAA/CP,KAAK,UAAWQ,QAAOC,EAAAW,U,CA7B5ChC,SAAAH,EAAAA,EAAAA,KA6BsD,IAAEC,EAAA,KAAAA,EAAA,KA7BxDyB,EAAAA,EAAAA,IA6BsD,UA7BtDZ,EAAA,G,gBA8BUjB,EAAAA,EAAAA,IAA2CyB,EAAA,CAA/BC,QAAOC,EAAAY,UAAQ,CA9BrCjC,SAAAH,EAAAA,EAAAA,KA8BuC,IAAEC,EAAA,KAAAA,EAAA,KA9BzCyB,EAAAA,EAAAA,IA8BuC,UA9BvCZ,EAAA,G,kBAAAA,EAAA,OAAAA,EAAA,G,gBAAAA,EAAA,K,iCAwCA,GACEuB,IAAAA,GACE,MAAO,CACL9B,KAAM,CACJK,SAAU,GACVI,SAAU,GACVK,QAAS,IAEXU,WAAW,GACXJ,aAAY,EAEhB,EACAW,QAAS,CACPC,IAAAA,GACE,MAAO,CACL3B,SAAS4B,KAAKjC,KAAKK,SACnBS,QAAQmB,KAAKjC,KAAKc,QAClBL,UAASyB,EAAAA,EAAAA,KAAID,KAAKjC,KAAKS,UAAU0B,WAErC,EACAP,QAAAA,GAEE,IAAIQ,EAAQH,KAAKD,OACF,IAAZI,EAAMC,MAA2B,IAAhBD,EAAM3B,UAA8B,IAAf2B,EAAMtB,SAAmC,GAApBmB,KAAKb,YAInEa,KAAKK,OAAOC,KAAKC,EAAAA,EAAOC,QAAQD,EAAAA,EAAOE,OAAOF,EAAAA,EAAOG,IAAIC,MAAMR,GAAOS,MAAKC,IACvD,KAAfA,EAAIhB,KAAKiB,MACVd,KAAKe,SAASC,IAAI,QAAQH,EAAIhB,KAAKoB,MAAM,CAACC,QAAQ,GAAGC,KAAK,MAC1DnB,KAAKe,SAASC,IAAI,aAAaH,EAAIhB,KAAKuB,WAAW,CAACD,KAAK,MACzDnB,KAAKqB,SAASC,QAAQT,EAAIhB,KAAK0B,QAC/BvB,KAAKwB,QAAQC,KAAK,OAElBzB,KAAKqB,SAASK,MAAMb,EAAIhB,KAAK0B,QAC7BvB,KAAKjC,KAAKc,QAAU,GACpBmB,KAAKjC,KAAKS,SAAW,GACrBwB,KAAKjC,KAAKK,SAAW,GACrB4B,KAAKf,cACP,IAfAe,KAAKqB,SAASK,MAAM,UAiBxB,EACAzC,WAAAA,GACE,MAAM0C,GAAO,IAAIC,MAAOC,UACxB7B,KAAKT,WAAagB,EAAAA,EAAOC,QAAQD,EAAAA,EAAOE,OAAOF,EAAAA,EAAOG,IAAI7B,QAAQ,SAAS8C,IAC3E3B,KAAKb,aAAc,CACrB,EACAS,QAAAA,GACEI,KAAKwB,QAAQC,KAAK,iBACpB,GAEFK,OAAAA,GACE,IAAIb,EAAQjB,KAAKe,SAASgB,IAAI,SACpB,MAAPd,GAAqB,IAAPA,GAGjBjB,KAAKK,OAAOC,KAAKC,EAAAA,EAAOC,QAAQD,EAAAA,EAAOE,OAAOF,EAAAA,EAAOG,IAAIsB,UAAU,CAAC,EAAE,CACpEC,QAAQ,CACR,MAAQhB,KACJL,MAAKC,IACU,MAAhBA,EAAIhB,KAAKiB,MAEVd,KAAKe,SAASC,IAAI,QAAQC,EAAM,CAACC,QAAQ,GAAGC,KAAK,MACjDnB,KAAKe,SAASC,IAAI,aAAaH,EAAIhB,KAAKuB,WAAW,CAACD,KAAK,MACzDnB,KAAKwB,QAAQC,KAAK,OAGlBzB,KAAKe,SAASmB,OAAO,SACrBlC,KAAKqB,SAASK,MAAMb,EAAIhB,KAAK0B,QAC/B,GAEJ,G,UCxGF,MAAMY,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://my_cloud_javaweb_project/./src/views/user/UserLogin.vue","webpack://my_cloud_javaweb_project/./src/views/user/UserLogin.vue?7460"],"sourcesContent":["<template>\n  <div class=\"login-container\">\n    <el-card class=\"box-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <span>用户登录</span>\n        </div>\n      </template>\n      <el-form :model=\"form\" label-width=\"80px\">\n        <el-form-item label=\"用户名\">\n          <el-input v-model=\"form.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\">\n          <el-input type=\"password\" v-model=\"form.password\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"验证码\">\n          <el-row :gutter=\"20\">\n            <el-col :span=\"14\">\n              <el-input v-model=\"form.captcha\"></el-input>\n            </el-col>\n            <el-col :span=\"10\">\n              <el-button type=\"primary\" @click=\"sendCaptcha\">获取验证码</el-button>\n            </el-col>\n          </el-row>\n        </el-form-item>\n        <el-form-item label=\"Captcha：\" v-if=\"showCaptcha\">\n          <img :src=\"captchaImg\" alt=\"captcha\">\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmit\">登录</el-button>\n          <el-button @click=\"register\">注册</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport config from \"@/class/config.js\"\nimport {MD5} from \"crypto-js\"\nexport default {\n  data() {\n    return {\n      form: {\n        username: '',\n        password: '',\n        captcha: ''\n      },\n      captchaImg:\"\",\n      showCaptcha:false\n    };\n  },\n  methods: {\n    salt(){\n      return {\n        username:this.form.username,\n        captcha:this.form.captcha,\n        password:MD5(this.form.password).toString()\n      }\n    },\n    onSubmit() {\n      //   发送请求带参数给后端，后端返回数据，判断是否登录成功，成功则跳转页面，失败则提示错误信息\n      var datas = this.salt();\n      if(datas.name==\"\"|| datas.password==\"\"|| datas.captcha==\"\" || this.showCaptcha == false){\n        this.$message.error(\"请输入完整信息\");\n        return;\n      }\n      this.$axios.post(config.baseUrl+config.apiUrl+config.api.login,datas).then(res=>{\n        if(res.data.Code==200){\n          this.$cookies.set(\"token\",res.data.token,{expires:30,path:\"/\"});\n          this.$cookies.set(\"permission\",res.data.permission,{path:\"/\"});\n          this.$message.success(res.data.Reason);\n          this.$router.push(\"/\");\n        }else{\n          this.$message.error(res.data.Reason);\n          this.form.captcha = \"\";\n          this.form.password = \"\";\n          this.form.username = \"\";\n          this.sendCaptcha();\n        }\n      })\n    },\n    sendCaptcha() {\n      const time = new Date().getTime();\n      this.captchaImg = config.baseUrl+config.apiUrl+config.api.captcha+`?time=${time}`;\n      this.showCaptcha = true;\n    },\n    register() {\n      this.$router.push(\"/user/register\");\n    }\n  },\n  mounted() {\n    var token = this.$cookies.get(\"token\");\n    if(token==null|| token==\"\"){\n      return;\n    }\n    this.$axios.post(config.baseUrl+config.apiUrl+config.api.authToken,{},{\n      headers:{\n      'token':token\n      }}).then(res=>{\n      if(res.data.Code===200){\n        // 更新token有效期\n        this.$cookies.set(\"token\",token,{expires:30,path:\"/\"});\n        this.$cookies.set(\"permission\",res.data.permission,{path:\"/\"});\n        this.$router.push(\"/\");\n      }else{\n        // 删除token\n        this.$cookies.remove(\"token\");\n        this.$message.error(res.data.Reason);\n      }\n    })\n  }\n}\n</script>\n\n<style scoped>\n.login-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.box-card {\n  width: 400px;\n}\n\n.card-header {\n  text-align: center;\n  font-size: 20px;\n  font-weight: bold;\n}\n</style>\n","import { render } from \"./UserLogin.vue?vue&type=template&id=09d2e63c&scoped=true\"\nimport script from \"./UserLogin.vue?vue&type=script&lang=js\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=js\"\n\nimport \"./UserLogin.vue?vue&type=style&index=0&id=09d2e63c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-09d2e63c\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","header","_withCtx","_cache","_createElementVNode","default","_component_el_form","model","$data","form","_component_el_form_item","label","_component_el_input","modelValue","username","$event","_","type","password","_component_el_row","gutter","_component_el_col","span","captcha","_component_el_button","onClick","$options","sendCaptcha","_createTextVNode","showCaptcha","_createBlock","key","src","captchaImg","alt","_hoisted_2","_createCommentVNode","onSubmit","register","data","methods","salt","this","MD5","toString","datas","name","$axios","post","config","baseUrl","apiUrl","api","login","then","res","Code","$cookies","set","token","expires","path","permission","$message","success","Reason","$router","push","error","time","Date","getTime","mounted","get","authToken","headers","remove","__exports__","render"],"sourceRoot":""}