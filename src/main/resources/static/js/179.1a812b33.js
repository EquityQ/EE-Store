"use strict";(self["webpackChunkmy_cloud_javaweb_project"]=self["webpackChunkmy_cloud_javaweb_project"]||[]).push([[179],{1764:function(e,s){const t={baseUrl:"http://localhost:8081",api:{captcha:"/captcha",login:"/user/login",register:"/user/register",logout:"/user/logout",getUserInfo:"/user/getinfo",authToken:"/user/token-auth",ip:"/ip",ShopInfo:"/element/info",code:"/user/code",selectUser:"/user/select-info",deleteUser:"/user/delete",updateUser:"/user/change",deleteShop:"/element/delete",uploadImg:"/img/base64",updateShop:"/element/change",insertShop:"/element/insert",getOrders:"/order/getall",payInsert:"/pay/top-up",payMyinfo:"/pay/get",payEx:"/pay/exchange",payForOrder:"/pay/pay-order"},apiUrl:"/api"};s.A=t},8179:function(e,s,t){t.r(s),t.d(s,{default:function(){return g}});var o=t(6768),a=t(4232);const r={class:"store-container"},l=["src"],n={class:"product-info"};function i(e,s,t,i,u,p){const c=(0,o.g2)("el-button"),d=(0,o.g2)("el-card"),g=(0,o.g2)("el-col"),h=(0,o.g2)("el-row");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.bF)(d,{class:"box-card"},{default:(0,o.k6)((()=>[s[5]||(s[5]=(0,o.Lk)("div",{class:"card-header"},[(0,o.Lk)("span",null,"EquityQ's Shop")],-1)),(0,o.bF)(h,{class:"el_row_class",gutter:20},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(u.goods,((e,t)=>((0,o.uX)(),(0,o.Wv)(g,{span:8,style:{"padding-top":"10px","padding-bottom":"10px"},key:t},{default:(0,o.k6)((()=>[(0,o.bF)(d,{class:"product-card"},{default:(0,o.k6)((()=>[(0,o.Lk)("img",{src:e.image,alt:"商品图片",class:"product-image"},null,8,l),(0,o.Lk)("div",n,[(0,o.Lk)("p",null,[s[0]||(s[0]=(0,o.Lk)("strong",null,"名称:",-1)),(0,o.eW)(" "+(0,a.v_)(e.name),1)]),(0,o.Lk)("p",null,[s[1]||(s[1]=(0,o.Lk)("strong",null,"价格:",-1)),(0,o.eW)(" "+(0,a.v_)(e.price)+" 元",1)]),(0,o.Lk)("p",null,[s[2]||(s[2]=(0,o.Lk)("strong",null,"库存:",-1)),(0,o.eW)(" "+(0,a.v_)(e.value)+" 件",1)]),(0,o.Lk)("p",null,[s[3]||(s[3]=(0,o.Lk)("strong",null,"描述:",-1)),(0,o.eW)(" "+(0,a.v_)(e.description),1)]),(0,o.bF)(c,{type:"primary",onClick:s=>p.addToCart(e.name)},{default:(0,o.k6)((()=>s[4]||(s[4]=[(0,o.eW)("加入购物车")]))),_:2},1032,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])}var u=t(1764),p={data(){return{goods:[]}},mounted(){this.$axios.get(u.A.baseUrl+u.A.apiUrl+u.A.api.ShopInfo).then((e=>{this.goods=e.data.elements}))},methods:{addToCart(e){var s=this.$cookies.get("token");if(null==s&&""==s)return this.$message.error("未检测到登录态,无法使用购物车功能。"),void this.$cookies.remove("token");for(var t=this.$cookies.get(e),o=0,a=0;a<this.goods.length;a++)if(this.goods[a].name===e){o=this.goods[a].value;break}if(o<=0)this.$message.error("商品库存不足。");else if(null==t||""===t)this.$message.success("新增商品已加入购物车。"),this.$cookies.set(e,1,{path:"/",expires:30});else{if(parseInt(t)>=o)return void this.$message.error("商品库存不足,无法加入购物车。");this.$message.success("商品数量已增加进购物车。"),this.$cookies.set(e,parseInt(t)+1,{path:"/",expires:30})}}}},c=t(1241);const d=(0,c.A)(p,[["render",i],["__scopeId","data-v-22e4e727"]]);var g=d}}]);
//# sourceMappingURL=179.1a812b33.js.map