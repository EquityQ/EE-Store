{"version":3,"file":"js/199.8cc7843f.js","mappings":"6IAAA,MAAMA,EAAS,CACXC,QAAS,wBACTC,IAAK,CACDC,QAAS,WACTC,MAAO,cACPC,SAAU,iBACVC,OAAQ,eACRC,YAAa,gBACbC,UAAU,mBACVC,GAAI,MACJC,SAAU,gBACVC,KAAM,aACNC,WAAW,oBACXC,WAAW,eACXC,WAAW,eACXC,WAAW,kBACXC,UAAU,cACVC,WAAW,kBACXC,WAAW,kBACXC,UAAU,gBACVC,UAAU,cACVC,UAAU,WACVC,MAAM,gBACNC,YAAY,kBAEhBC,OAAQ,QAEZ,K,0FC2BOC,MAAM,kB,GACJA,MAAM,a,+FADbC,EAAAA,EAAAA,IAUM,MAVNC,EAUM,EATJC,EAAAA,EAAAA,IAQM,MARNC,EAQM,cAPJD,EAAAA,EAAAA,IAAc,UAAV,SAAK,KACTE,EAAAA,EAAAA,IAIYC,EAAA,CA7DlBC,WA0DiBC,EAAAC,kBA1DjB,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GA0DiBH,EAAAC,kBAAiBE,GAC1BC,YAAY,gBACZC,UAAA,I,wBAEFR,EAAAA,EAAAA,IAAyES,EAAA,CAA9DC,KAAK,UAAWC,QAAOC,EAAAC,yB,CA9DxCC,SAAAC,EAAAA,EAAAA,KA8DiE,IAAEV,EAAA,KAAAA,EAAA,KA9DnEW,EAAAA,EAAAA,IA8DiE,UA9DjEC,EAAA,G,mDAGA,GACEC,KAAM,gBACNC,IAAAA,GACE,MAAO,CACLf,kBAAmB,GAEvB,EACAgB,QAAS,CACPP,uBAAAA,GACE,GAA+B,KAA3BQ,KAAKjB,kBAKT,GAAI,4BAA4BkB,KAAKD,KAAKjB,mBACxCmB,EAAAA,GAAUC,MAAM,yBADlB,CAKA,IAAIC,EAAQJ,KAAKK,SAASC,IAAI,SAC9B,GAAU,MAAPF,GAAqB,KAARA,EAId,OAHAF,EAAAA,GAAUC,MAAM,WAChBH,KAAKK,SAASE,OAAO,cACrBP,KAAKQ,QAAQC,KAAK,eAGpB,IAAIC,EAAaV,KAAKK,SAASC,IAAI,cACnB,UAAbI,EAIHV,KAAKW,OAAOC,KAAK/D,EAAAA,EAAOC,QAAQD,EAAAA,EAAOwB,OAAOxB,EAAAA,EAAOE,IAAIS,KAAK,CAAC,EAAE,CAC/DqD,QAAQ,CACN,MAAQb,KAAKK,SAASC,IAAI,SAC1B,KAAON,KAAKjB,qBAEb+B,MAAKC,IACNf,KAAKgB,SAASC,QAAQF,EAAIjB,KAAKoB,UAG/BlB,KAAKgB,SAASC,QAAQ,qBACtBE,YAAW,KACTnB,KAAKQ,QAAQC,KAAK,aAAa,GAC9B,IAAK,IAfRP,EAAAA,GAAUC,MAAM,mBAXlB,MAPED,EAAAA,GAAUC,MAAM,SAmCpB,I,UCzCJ,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://my_cloud_javaweb_project/./src/class/config.js","webpack://my_cloud_javaweb_project/./src/views/user/CodeInv.vue","webpack://my_cloud_javaweb_project/./src/views/user/CodeInv.vue?ba6d"],"sourcesContent":["const config = {\r\n    baseUrl: 'http://localhost:8081',\r\n    api: {\r\n        captcha: '/captcha',\r\n        login: '/user/login',\r\n        register: '/user/register',\r\n        logout: '/user/logout',\r\n        getUserInfo: '/user/getinfo',\r\n        authToken:'/user/token-auth',\r\n        ip: '/ip',\r\n        ShopInfo: \"/element/info\",\r\n        code: '/user/code',\r\n        selectUser:\"/user/select-info\",\r\n        deleteUser:\"/user/delete\",\r\n        updateUser:\"/user/change\",\r\n        deleteShop:\"/element/delete\",\r\n        uploadImg:\"/img/base64\",\r\n        updateShop:\"/element/change\",\r\n        insertShop:\"/element/insert\",\r\n        getOrders:\"/order/getall\",\r\n        payInsert:\"/pay/top-up\",\r\n        payMyinfo:\"/pay/get\",\r\n        payEx:\"/pay/exchange\",\r\n        payForOrder:\"/pay/pay-order\"\r\n    },\r\n    apiUrl: '/api'\r\n}\r\nexport default config","<script>\r\nimport { ElMessage } from 'element-plus';\r\nimport config from \"@/class/config\"\r\nexport default {\r\n  name: 'AuthoriZation',\r\n  data() {\r\n    return {\r\n      authorizationCode: ''\r\n    };\r\n  },\r\n  methods: {\r\n    submitAuthorizationCode() {\r\n      if (this.authorizationCode === '') {\r\n        ElMessage.error('请输入提权码');\r\n        return;\r\n      }\r\n      // 判断code是否包含中文非法字符等\r\n      if (/[^\\u4e00-\\u9fa5a-zA-Z0-9]/.test(this.authorizationCode)) {\r\n        ElMessage.error('提权码中不能包含中文或其他非法字符');\r\n        return;\r\n      }\r\n\r\n      var token = this.$cookies.get(\"token\");\r\n      if(token==null||token===\"\"){\r\n        ElMessage.error('未检测到登录态');\r\n        this.$cookies.remove(\"token\");\r\n        this.$router.push(\"/user/login\");\r\n        return;\r\n      }\r\n      var permission = this.$cookies.get(\"permission\");\r\n      if(permission===\"admin\"){\r\n        ElMessage.error('您已拥有管理员权限，无需再次申请');\r\n        return;\r\n      }\r\n      this.$axios.post(config.baseUrl+config.apiUrl+config.api.code,{},{\r\n        headers:{\r\n          'token':this.$cookies.get(\"token\"),\r\n          \"code\":this.authorizationCode\r\n        }\r\n      }).then(res=>{\r\n        this.$message.success(res.data.Response);\r\n      //   刷新页面\r\n      //   等待一秒\r\n        this.$message.success(\"正在将数据更新至DashBoard\");\r\n        setTimeout(() => {\r\n          this.$router.push(\"/dashboard\");\r\n        }, 1000);\r\n      })\r\n    }\r\n}\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"auth-container\">\r\n    <div class=\"auth-form\">\r\n      <h2>输入提权码</h2>\r\n      <el-input\r\n        v-model=\"authorizationCode\"\r\n        placeholder=\"默认提权码为EquityQ\"\r\n        clearable\r\n      ></el-input>\r\n      <el-button type=\"primary\" @click=\"submitAuthorizationCode\">提交</el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.auth-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  background-color: #f0f2f5;\r\n}\r\n\r\n.auth-form {\r\n  background-color: #ffffff;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\r\n  width: 300px;\r\n  text-align: center;\r\n}\r\n\r\nh2 {\r\n  margin-bottom: 20px;\r\n  font-size: 18px;\r\n  font-weight: bold;\r\n}\r\n\r\n.el-input {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-button {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./CodeInv.vue?vue&type=template&id=6256e97c&scoped=true\"\nimport script from \"./CodeInv.vue?vue&type=script&lang=js\"\nexport * from \"./CodeInv.vue?vue&type=script&lang=js\"\n\nimport \"./CodeInv.vue?vue&type=style&index=0&id=6256e97c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6256e97c\"]])\n\nexport default __exports__"],"names":["config","baseUrl","api","captcha","login","register","logout","getUserInfo","authToken","ip","ShopInfo","code","selectUser","deleteUser","updateUser","deleteShop","uploadImg","updateShop","insertShop","getOrders","payInsert","payMyinfo","payEx","payForOrder","apiUrl","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_el_input","modelValue","$data","authorizationCode","_cache","$event","placeholder","clearable","_component_el_button","type","onClick","$options","submitAuthorizationCode","default","_withCtx","_createTextVNode","_","name","data","methods","this","test","ElMessage","error","token","$cookies","get","remove","$router","push","permission","$axios","post","headers","then","res","$message","success","Response","setTimeout","__exports__","render"],"sourceRoot":""}